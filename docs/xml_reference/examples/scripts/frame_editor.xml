<?xml version="1.0" encoding="UTF-8"?>

<!-- This example application shows the usage of scripts.

-->

<pitasc>

    <models>
        <include package="pitasc_library" file="models/pitasc.xml" />
        <include package="pitasc_library" file="models/skills.xml" />
        <include package="pitasc_library" file="frame_editor/frame_editor.xml" />

        <include package="pitasc_library" file="universal_robots/ur.xml" />
    </models>

    <clone prototype="project">

        <member id="configuration">
            <clone id="configuration" prototype="default_configuration" />
        </member>

        <member id="environment">
            <clone prototype="robot_ur5">
                <member id="robot_driver.max_velocity">0.5</member>
                <member id="robot_driver.max_acceleration">2.0</member>
            </clone>
        </member>

        <member id="applications">
            <clone prototype="skill_sequence">
                <member id="robot" reference_id="environment.robot_ur5" />
                <member id="skills">

                    <clone prototype="frame_editor_align">
                        <member id="frame">marker_frame_editor</member>
                        <member id="source">target1</member>
                        <member id="axes">x,y,a,b</member>
                    </clone>

                    <clone prototype="frame_editor_copy">
                        <member id="frame">marker_frame_editor_2</member>
                        <member id="source">marker_frame_editor</member>
                        <member id="parent">target1</member>
                    </clone>

                    <clone prototype="skill_idle_duration">
                        <member id="duration">1.0</member>
                    </clone>

                    <clone prototype="frame_editor_set_parent">
                        <member id="frame">marker_frame_editor_2</member>
                        <member id="parent">target2</member>
                    </clone>

                    <clone prototype="frame_editor_set">
                        <member id="frame">marker_frame_editor_2</member>
                        <member id="pose">0.1, 0.1, 0.1, $(pi/2), 0, $(pi/2)</member>
                        <member id="parent">target1</member>
                    </clone>

                    <clone prototype="frame_editor_save_yaml">
                        <member id="filename">test_save_file</member>
                    </clone>

                    <clone prototype="frame_editor_remove">
                        <member id="frame">marker_frame_editor_2</member>
                    </clone>

                    <clone prototype="frame_editor_load_yaml">
                        <member id="filename">test_save_file</member>
                    </clone>


                </member>

            </clone>
        </member>

    </clone>

</pitasc>