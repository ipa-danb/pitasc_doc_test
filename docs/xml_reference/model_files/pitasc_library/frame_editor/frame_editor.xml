<?xml version="1.0" encoding="UTF-8"?>

<pitasc>

    <models>

        <!-- Component -->
        <type id="frame_editor" prototype="component">
            <meta>
                <member id="description">rqt frame editor plugin</member>
            </meta>
        </type>


        <!-- Scripts -->

        <type id="script_frame_editor" prototype="script_service_caller">
            <meta>
                <member id="description">Interacts with the frame_editor via ROS service.</member>
                <member id="categories">frames, ROS</member>
                <member id="implementation">
                </member>
            </meta>
            <data>
                <type id="service_name" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the service to be called</member>
                        <member id="visibility">required</member>
                    </meta>
                    <data></data>
                </type>
                <member id="namespace" reference_id="environment.frame_editor.namespace" />
                <type id="frame" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the frame to be manipulated</member>
                    </meta>
                </type>
            </data>
        </type>

        <type id="script_frame_editor_set" prototype="script_frame_editor">
            <meta>
                <member id="description">Sets a new frame in the frame_editor via ROS service.</member>
                <member id="categories">frames</member>
                <member id="implementation">
                    <clone prototype="orocos">
                        <member id="package">cppitasc_ros_components</member>
                        <member id="component">ScriptFrameEditorSetFrame</member>
                    </clone>
                </member>
            </meta>
            <data>

                <member id="service_name">/frame_editor/set_frame</member>
                <member id="frame.meta.description">Name of the frame to be created</member>

                <type id="parent" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the parent frame of the frame to be created</member>
                    </meta>
                </type>
                <type id="pose" prototype="float_csv">
                    <meta>
                        <member id="description">Pose of the new frame relative to 'parent'. Values
                            are x,y,z,a,b,c</member>
                    </meta>
                </type>
            </data>
        </type>

        <type id="script_frame_editor_remove" prototype="script_frame_editor">
            <meta>
                <member id="description">Removes a frame from the frame_editor via ROS service.</member>
                <member id="categories">frames</member>
                <member id="implementation">
                    <clone prototype="orocos">
                        <member id="package">cppitasc_ros_components</member>
                        <member id="component">ScriptFrameEditorRemoveFrame</member>
                    </clone>
                </member>
            </meta>
            <data>
                <member id="service_name">/frame_editor/remove_frame</member>
                <member id="frame.meta.description">Name of the frame to be removed</member>
            </data>
        </type>

        <type id="script_frame_editor_set_parent" prototype="script_frame_editor">
            <meta>
                <member id="description">Set a new parent frame of a given frame via ROS service.</member>
                <member id="categories">frames</member>
                <member id="implementation">
                    <clone prototype="orocos">
                        <member id="package">cppitasc_ros_components</member>
                        <member id="component">ScriptFrameEditorSetParent</member>
                    </clone>
                </member>
            </meta>
            <data>

                <member id="service_name">/frame_editor/set_parent</member>
                <member id="frame.meta.description">Name of the frame to be created</member>

                <type id="parent" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the parent frame</member>
                    </meta>
                </type>
                <type id="keep_absolute" prototype="bool_parameter">
                    <meta>
                        <member id="description">If true, change the kin. tree, but not the position
                            relative to 'world' or attach full transformation to parent frame</member>
                    </meta>
                </type>
            </data>
        </type>

        <type id="script_frame_editor_align" prototype="script_frame_editor">
            <meta>
                <member id="description">Aligns a frame with another frame via frame editor ROS
                    service.</member>
                <member id="categories">frames</member>
                <member id="implementation">
                    <clone prototype="orocos">
                        <member id="package">cppitasc_ros_components</member>
                        <member id="component">ScriptFrameEditorAlignFrame</member>
                    </clone>

                </member>
            </meta>
            <data>
                <member id="service_name">/frame_editor/align_frame</member>

                <member id="frame.meta.description">Name of the frame to be aligned</member>
                <type id="source" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the frame to be aligned to</member>
                    </meta>
                </type>
                <type id="axes" prototype="string_csv">
                    <meta>
                        <member id="description">List of axes to be aligned.</member>
                        <clone prototype="restrictions">
                            <clone prototype="enum">x, y, z, a, b, c</clone>
                        </clone>
                        <member id="visibility">required</member>
                    </meta>
                    <data>x,y,z,a,b,c</data>
                </type>
            </data>
        </type>

        <type id="script_frame_editor_copy" prototype="script_frame_editor">
            <meta>
                <member id="description">Copies a frame via ROS service.</member>
                <member id="categories">frames</member>
                <member id="implementation">
                    <clone prototype="orocos">
                        <member id="package">cppitasc_ros_components</member>
                        <member id="component">ScriptFrameEditorCopyFrame</member>
                    </clone>

                </member>
            </meta>
            <data>
                <member id="service_name">/frame_editor/copy_frame</member>

                <member id="frame.meta.description">Name of the frame to be copied</member>
                <type id="source" prototype="string_parameter" />
                <type id="parent" prototype="string_parameter" />
            </data>
        </type>

        <type id="script_frame_editor_load_yaml" prototype="script_service_caller">
            <meta>
                <member id="description">Loads YAML with frame editor.</member>
                <member id="categories">frames</member>
                <member id="implementation">
                    <clone prototype="orocos">
                        <member id="package">cppitasc_ros_components</member>
                        <member id="component">ScriptFrameEditorLoadYaml</member>
                    </clone>

                </member>
            </meta>
            <data>
                <member id="service_name">/frame_editor/load_yaml</member>

                <type id="filename" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the file to be loaded</member>
                    </meta>
                </type>
            </data>
        </type>

        <type id="script_frame_editor_save_yaml" prototype="script_service_caller">
            <meta>
                <member id="description">Saves YAML with frame editor.</member>
                <member id="categories">frames</member>
                <member id="implementation">
                    <clone prototype="orocos">
                        <member id="package">cppitasc_ros_components</member>
                        <member id="component">ScriptFrameEditorSaveYaml</member>
                    </clone>

                </member>
            </meta>
            <data>
                <member id="service_name">/frame_editor/save_yaml</member>

                <type id="filename" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the file to be saved</member>
                    </meta>
                </type>
            </data>
        </type>


        <!-- Skills -->
        <type id="frame_editor_set" prototype="skill_idle_once">
            <meta>
                <member id="description">Created a new frame with a give pose via ROS service.</member>
            </meta>
            <data>
                <type id="namespace" prototype="string_parameter">
                    <meta>
                        <member id="description">Namespace of the frame_editor, leave empty if only
                            one editor is launched.</member>
                    </meta>
                </type>
                <type id="frame" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the frame to be created with the given pose</member>
                    </meta>
                </type>
                <type id="parent" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the parent frame</member>
                    </meta>
                </type>
                <type id="pose" prototype="float_csv">
                    <meta>
                        <member id="description">Pose of the new frame relative to 'parent'. Values
                            are x,y,z,a,b,c</member>
                    </meta>
                </type>
                <member id="scripts">
                    <clone prototype="script_frame_editor_set">
                        <member id="namespace" reference_id="namespace" />
                        <member id="frame" reference_id="frame" />
                        <member id="parent" reference_id="parent" />
                        <member id="pose" reference_id="pose" />
                    </clone>
                </member>
            </data>
        </type>

        <type id="frame_editor_remove" prototype="skill_idle_once">
            <meta>
                <member id="description">Remove a frame from the frame_editor via ROS service.</member>
            </meta>
            <data>
                <type id="namespace" prototype="string_parameter">
                    <meta>
                        <member id="description">Namespace of the frame_editor, leave empty if only
                            one editor is launched.</member>
                    </meta>
                </type>
                <type id="frame" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the frame to be removed</member>
                    </meta>
                </type>
                <member id="scripts">
                    <clone prototype="script_frame_editor_remove">
                        <member id="namespace" reference_id="namespace" />
                        <member id="frame" reference_id="frame" />
                    </clone>
                </member>
            </data>
        </type>

        <type id="frame_editor_set_parent" prototype="skill_idle_once">
            <meta>
                <member id="description">Set a new parent frame of a given frame via ROS service.</member>
            </meta>
            <data>
                <type id="namespace" prototype="string_parameter">
                    <meta>
                        <member id="description">Namespace of the frame_editor, leave empty if only
                            one editor is launched.</member>
                    </meta>
                </type>
                <type id="frame" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the frame to be connected to another parent
                            frame</member>
                    </meta>
                </type>
                <type id="parent" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the parent frame</member>
                    </meta>
                </type>
                <type id="keep_absolute" prototype="bool_parameter">
                    <meta>
                        <member id="description">If true, change the kin. tree, but not the position
                            relative to 'world' or attach full transformation to parent frame</member>
                    </meta>
                    <data>True</data>
                </type>
                <member id="scripts">
                    <clone prototype="script_frame_editor_set_parent">
                        <member id="namespace" reference_id="namespace" />
                        <member id="frame" reference_id="frame" />
                        <member id="parent" reference_id="parent" />
                        <member id="keep_absolute" reference_id="keep_absolute" />
                    </clone>
                </member>
            </data>
        </type>

        <type id="frame_editor_align" prototype="skill_idle_once">
            <meta>
                <member id="description">Aligns a frame with another frame via ROS service.</member>
            </meta>
            <data>
                <type id="namespace" prototype="string_parameter">
                    <meta>
                        <member id="description">Namespace of the frame_editor, leave empty if only
                            one editor is launched.</member>
                    </meta>
                </type>
                <type id="frame" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the frame to be aligned</member>
                    </meta>
                </type>
                <type id="source" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of frame to be aligned to</member>
                    </meta>
                </type>
                <type id="axes" prototype="string_csv">
                    <meta>
                        <member id="description">List of axes to be aligned.</member>
                        <clone prototype="restrictions">
                            <clone prototype="enum">x, y, z, a, b, c</clone>
                        </clone>
                        <member id="visibility">required</member>
                    </meta>
                    <data>x,y,z,a,b,c</data>
                </type>

                <member id="scripts">
                    <clone prototype="script_frame_editor_align">
                        <member id="namespace" reference_id="namespace" />
                        <member id="frame" reference_id="frame" />
                        <member id="source" reference_id="source" />
                        <member id="axes" reference_id="axes" />
                    </clone>
                </member>
            </data>
        </type>

        <type id="frame_editor_copy" prototype="skill_idle_once">
            <meta>
                <member id="description">Copies a frame via ROS service.</member>
            </meta>
            <data>
                <type id="namespace" prototype="string_parameter">
                    <meta>
                        <member id="description">Namespace of the frame_editor, leave empty if only
                            one editor is launched.</member>
                    </meta>
                </type>
                <type id="frame" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the newly copied frame</member>
                    </meta>
                </type>
                <type id="source" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of frame to be copied</member>
                    </meta>
                </type>
                <type id="parent" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the parent frame</member>
                    </meta>
                </type>
                <member id="scripts">
                    <clone prototype="script_frame_editor_copy">
                        <member id="namespace" reference_id="namespace" />
                        <member id="frame" reference_id="frame" />
                        <member id="source" reference_id="source" />
                        <member id="parent" reference_id="parent" />
                    </clone>
                </member>
            </data>
        </type>

        <type id="frame_editor_load_yaml" prototype="skill_idle_once">
            <meta>
                <member id="description">Loads YAML with frame editor.</member>
            </meta>
            <data>
                <type id="namespace" prototype="string_parameter">
                    <meta>
                        <member id="description">Namespace of the frame_editor, leave empty if only
                            one editor is launched.</member>
                    </meta>
                </type>
                <type id="filename" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the file to be loaded</member>
                    </meta>
                </type>
                <member id="scripts">
                    <clone prototype="script_frame_editor_load_yaml">
                        <member id="namespace" reference_id="namespace" />
                        <member id="filename" reference_id="filename" />
                    </clone>
                </member>
            </data>
        </type>

        <type id="frame_editor_save_yaml" prototype="skill_idle_once">
            <meta>
                <member id="description">Saves YAML with frame editor.</member>
            </meta>
            <data>
                <type id="namespace" prototype="string_parameter">
                    <meta>
                        <member id="description">Namespace of the frame_editor, leave empty if only
                            one editor is launched.</member>
                    </meta>
                </type>
                <type id="filename" prototype="string_parameter">
                    <meta>
                        <member id="description">Name of the file to be saved</member>
                    </meta>
                </type>
                <member id="scripts">
                    <clone prototype="script_frame_editor_save_yaml">
                        <member id="namespace" reference_id="namespace" />
                        <member id="filename" reference_id="filename" />
                    </clone>
                </member>
            </data>
        </type>


    </models>
</pitasc>