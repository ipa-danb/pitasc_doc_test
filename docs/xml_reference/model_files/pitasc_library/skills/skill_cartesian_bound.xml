<?xml version="1.0" encoding="UTF-8"?>

<pitasc>

    <models>
        <include package="pitasc_library" file="skills/skill_cartesian.xml"/>

        <type id="skill_cartesian_bound" prototype="skill_cartesian">
            <meta>
                <member id="description">Bound for a cartesian value</member>
                <member id="visibility">basic</member>
            </meta>

            <data>
                <!-- Task description -->
                <type id="axes" prototype="string_csv">
                    <meta>
                        <member id="description">List of axes to be aligned.</member>
                        <clone prototype="restrictions">
                            <clone prototype="enum">x, y, z, a, b, c</clone>
                        </clone>
                        <member id="visibility">basic</member>
                    </meta>
                    <data>x, y, z, a, b, c</data>
                </type>

                <type id="upper_bound" prototype="float_csv">
                    <meta>
                        <member id="description">List of upper bound values respective to axes.</member>
                        <member id="visibility">basic</member>
                    </meta>
                    <data>10.0, 10.0, 10.0, 3.14, 3.14, 3.14</data>
                </type>

                <type id="lower_bound" prototype="float_csv">
                    <meta>
                        <member id="description">List of lower bound values respective to axes.</member>
                        <member id="visibility">basic</member>
                    </meta>
                    <data>-10.0, -10.0, -10.0, -3.14, -3.14, -3.14</data>
                </type>

                <type id="scaler" prototype="float_parameter">
                    <meta>
                        <member id="description">Time constant restricting the movement, i.e.,  v_allowed &lt;  (p_bound - p_current) / scalar </member>
                        <member id="visibility">expert</member>
                    </meta>
                    <data>1.0</data>
                </type>


                <!-- Implementation details below: -->
                <member id="bounds">
                    <clone id="tracking_bound" prototype="bound"> <!-- how to specify visibility here? leave on hidden? -->
                        <member id="coordinates" reference_id="axes"/>
                        <member id="upper_bounds" reference_id="upper_bound"/>
                        <member id="lower_bounds" reference_id="lower_bound"/>
                        <member id="scaler" reference_id="scaler"/>
                        <member id="prefix" reference_id="collections.target_to_tool.prefix"/>
                        <member id="data_source">
                            <reference reference_id="collections.target_to_tool.chains[0]"/>
                        </member>
                    </clone>
                </member>
                <member id="bounds.tracking_bound.meta.visibility">hidden</member>

        
            </data>
        </type>

    </models>

</pitasc>
